import { OptionTable } from "@components/table";

# Config 配置信息

- [`config/findUnique`](#获取配置信息) 获取配置信息
- `config/upsert` 更新配置信息

## 获取配置信息

`config/findUnique`

### 使用方式

TRPC

```ts
const configQuery = trpc.config.findUnique.useQuery();

console.log(configQuery.data);
```

HTTP

```sh
GET /trpc/config/findUnique
```

### 参数

no params

### 返回值

<OptionTable
  options={[
    [
      "useNextSeoProps",
      "() => NextSeoProps",
      "A React hook function that returns options for Next SEO.",
    ],
  ]}
/>

```ts
type Config = {
  // config
  name: string;
  // 语言 zh-cn、en-us、zh-tw
  language: string;
  // 外观 | 配色  具体可查看 https://daisyui.com/docs/themes/
  color: string;
  // web 主题
  theme: string;
  // port: 9100-9300
  serverPort: number;
  // port: 9301-9500
  clientPort: number;
  // 当前 IP
  ip: string;
};
```

## 更新配置信息

`config/upsert`

### 请求参数

```ts
{
    language?: "zh-cn" | "en-us" | "zh-tw" | undefined;
    theme?: string | undefined;
    color?: string | undefined;
}
```

### 使用方式

只需传入需要更新的字段。

trpc

```ts
const { mutate: updateConfig } = trpc.config.upsert.useMutation();

updateConfig.mutate({
  language: "zh-cn",
});
```

### 返回值

```ts
type Config = {
  // config
  name: string;
  // 语言 zh-cn、en-us、zh-tw
  language: string;
  // 外观 | 配色  具体可查看 https://daisyui.com/docs/themes/
  color: string;
  // web 主题
  theme: string;
};
```
