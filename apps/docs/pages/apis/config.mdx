import { OptionTable } from "@components/table";

# Config 配置信息

- [`config/findUnique`](#获取配置信息) 获取配置信息
- `config/upsert` 更新配置信息

## 获取配置信息

`config/findUnique`

### 使用方式

TRPC

```tsx
const configQuery = trpc.config.findUnique.useQuery();

console.log(configQuery.data);
```

HTTP

```sh
GET /trpc/config/findUnique
```

### 参数

no params

### 返回值

<OptionTable
  options={[
    ["name", "string", "`config` 唯一值"],
    ["language", "string", "语言"],
    [
      "color",
      "string",
      <>
        外观 | 配色，具体可查看{" "}
        <a href="https://daisyui.com/docs/themes/">daisyui themes</a>
      </>,
    ],
    ["theme", "string", "WEB 主题"],
    [
      "serverPort",
      "number",
      <>
        服务端 PORT <code>9301-9500</code>
      </>,
    ],
    [
      "clientPort",
      "number",
      <>
        客户端 PORT <code>9301-9500</code>
      </>,
    ],
    ["ip", "string", "当前 IP 改变后会自动更新"],
  ]}
/>

## 更新配置信息

`config/upsert`

### 请求参数

```ts
{
    language?: "zh-cn" | "en-us" | "zh-tw" | undefined;
    theme?: string | undefined;
    color?: string | undefined;
}
```

### 使用方式

只需传入需要更新的字段。

trpc

```ts
const { mutate: updateConfig } = trpc.config.upsert.useMutation();

updateConfig.mutate({
  language: "zh-cn",
});
```

### 返回值

```ts
type Config = {
  // config
  name: string;
  // 语言 zh-cn、en-us、zh-tw
  language: string;
  // 外观 | 配色  具体可查看 https://daisyui.com/docs/themes/
  color: string;
  // web 主题
  theme: string;
};
```
